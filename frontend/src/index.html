<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PwC Consultant Debriefing</title>
    <link rel="icon" href="images/favicon.ico" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.12.0/dist/pptxgen.bundle.js"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body class="app-bg">
    <div class="container mx-auto px-4 py-8">
      <!-- Header -->
      <div class="text-center mb-10">
        <!-- Logo -->
        <div class="mb-4">
          <img src="images/Logo.svg" alt="Company Logo" class="mx-auto h-16" />
        </div>

        <!-- Title -->
        <h1
          class="text-4xl font-bold text-black mb-3"
          style="font-family: Georgia, serif"
        >
          PwC Consultant Debriefing
        </h1>

        <!-- Subtext -->
        <div class="max-w-4xl mx-auto text-bluegray text-base leading-relaxed">
          <p class="mb-2">
            This tool helps
            <span class="text-orange font-semibold"
              >systematically capturing and structuring knowledge at the end of
              a project</span
            >. Through a guided,
            <span class="text-orange font-semibold"
              >AI-powered conversation</span
            >, it collects the project context, approach, and outcomes, ensuring
            <span class="text-orange font-semibold"
              >nothing important is lost</span
            >. The result is a
            <span class="text-orange font-semibold"
              >ready-to-use debrief slide</span
            >
            for client presentations and an
            <span class="text-orange font-semibold"
              >internal metadata record</span
            >
            for future reference and knowledge sharing.
          </p>
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="card p-6">
        <!-- Pre-Chat Metadata Screen -->
        <div id="prechat-screen" class="text-left">
          <h2 class="text-2xl font-bold text-black mb-4">Project Metadata</h2>
          <p class="text-bluegray mb-6">
            Internal-only. Used for a second, contextual non-reference slide.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm text-black mb-1">Client</label>
              <input
                id="meta-client"
                class="w-full border border-lightgray rounded-lg p-2 focus:border-orange"
                placeholder="e.g., Umbrella Corp."
              />
            </div>
            <div>
              <label class="block text-sm text-black mb-1"
                >Engagement Manager Name (First & Last)</label
              >
              <input
                id="meta-manager"
                class="w-full border border-lightgray rounded-lg p-2 focus:border-orange"
                placeholder="e.g., Jane Doe"
              />
            </div>
            <div class="md:col-span-2">
              <label class="block text-sm text-black mb-1"
                >Project Team Names (First & Last, comma-separated)</label
              >
              <input
                id="meta-team"
                class="w-full border border-lightgray rounded-lg p-2 focus:border-orange"
                placeholder="e.g., Fannie Mae, Freddy Mac"
              />
            </div>
            <div>
              <label class="block text-sm text-black mb-1"
                >Project Start Date</label
              >
              <input
                id="meta-start"
                type="date"
                class="w-full border border-lightgray rounded-lg p-2 focus:border-orange"
              />
            </div>
            <div>
              <label class="block text-sm text-black mb-1"
                >Project End Date</label
              >
              <input
                id="meta-end"
                type="date"
                class="w-full border border-lightgray rounded-lg p-2 focus:border-orange"
              />
            </div>
          </div>
          <div class="mt-6 flex gap-3">
            <button id="save-meta" class="btn-primary px-6 py-2 rounded-lg">
              Save & Continue
            </button>
            <button id="skip-meta" class="btn-secondary px-6 py-2 rounded-lg">
              Skip
            </button>
          </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcome-screen" class="text-center hidden">
          <div class="mb-6">
            <h2 class="text-2xl font-bold text-black mb-4">
              Welcome to Your AI Project Debriefing Consultant
            </h2>
            <p class="text-bluegray mb-6">
              I'll have a natural conversation with you about your project to
              gather all the information needed for a comprehensive debrief
              slide. I'll ask follow-up questions and stop when I have
              everything I need.
            </p>
          </div>
          <button
            id="start-conversation"
            class="btn-primary font-bold py-3 px-8 rounded-lg transition-colors"
          >
            <i class="fas fa-comments mr-2"></i>Start Conversation
          </button>
        </div>

        <!-- Conversation Screen -->
        <div id="conversation-screen" class="hidden">
          <div class="mb-6">
            <!-- Conversation History -->
            <div
              id="conversation-history"
              class="max-h-96 overflow-y-auto mb-6 space-y-4"
            >
              <!-- Messages will be added here dynamically -->
            </div>

            <!-- Loading indicator -->
            <div id="ai-thinking" class="hidden mb-4">
              <div
                class="flex items-center justify-center space-x-2 text-orange"
              >
                <i class="fas fa-robot"></i>
                <span class="text-sm">AI Consultant is thinking</span>
                <i class="fas fa-spinner fa-spin"></i>
              </div>
            </div>

            <!-- User Input Area -->
            <div class="border-t border-lightgray pt-4">
              <div class="flex space-x-4">
                <textarea
                  id="user-input"
                  class="flex-1 p-4 border border-lightgray rounded-lg resize-none focus:border-orange"
                  rows="3"
                  placeholder="Type your response here..."
                ></textarea>
                <div class="flex flex-col space-y-2">
                  <button
                    id="send-message"
                    class="btn-primary px-6 py-2 rounded-lg transition-colors"
                  >
                    <i class="fas fa-paper-plane"></i>
                  </button>
                  <div class="text-xs text-bluegray text-center">
                    <span id="char-count">0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Image Upload Screen -->
        <div id="image-screen" class="hidden text-center">
          <h2 class="text-2xl font-bold text-black mb-6">
            Project Reference Image
          </h2>
          <div class="mb-6">
            <label
              for="image-input"
              id="image-upload-area"
              class="block border-2 border-dashed border-bluegray rounded-lg p-8 hover:border-orange transition-colors cursor-pointer"
            >
              <i
                class="fas fa-cloud-upload-alt text-4xl icon-bluegray mb-4"
              ></i>
              <p class="text-bluegray mb-2">Upload a project reference image</p>
              <p class="text-sm text-bluegray">JPG or PNG (max 10MB)</p>
              <input
                type="file"
                id="image-input"
                class="hidden"
                accept="image/png,image/jpeg"
              />
            </label>

            <div id="uploaded-image-preview" class="hidden mt-4">
              <img
                id="preview-img"
                class="max-w-xs mx-auto rounded-lg shadow-md"
              />
            </div>
          </div>
          <div class="flex justify-center space-x-4">
            <button
              id="skip-image"
              class="btn-secondary px-6 py-2 rounded-lg transition-colors"
            >
              Skip â€“ Generate slide without image
            </button>
            <button
              id="use-uploaded-image"
              class="btn-primary px-6 py-2 rounded-lg transition-colors hidden"
            >
              Use This Image
            </button>
          </div>
        </div>

        <!-- Processing Screen -->
        <div id="processing-screen" class="hidden text-center py-12">
          <i class="fas fa-cog fa-spin text-6xl icon-orange mb-6"></i>
          <h2 class="text-2xl font-bold text-black mb-4">
            Creating Your Debriefing Slide
          </h2>
          <p class="text-bluegray mb-6">
            Please wait while we analyze your conversation and generate the
            presentation...
          </p>
          <div class="progress-track rounded-full h-2 max-w-md mx-auto">
            <div
              id="processing-bar"
              class="progress-fill h-2 rounded-full transition-all duration-1000"
              style="width: 0%"
            ></div>
          </div>
        </div>

        <!-- Completion Screen -->
        <div id="completion-screen" class="hidden text-center">
          <i class="fas fa-check-circle text-6xl icon-peach mb-6"></i>
          <h2 class="text-2xl font-bold text-black mb-4">
            Your Debriefing Slide is Ready!
          </h2>
          <div
            id="final-summary"
            class="bg-lightgray rounded-lg p-6 mb-6 text-left"
          ></div>
          <div class="flex justify-center space-x-4">
            <button
              id="download-pptx"
              class="btn-primary px-6 py-3 rounded-lg transition-colors"
            >
              <i class="fas fa-download mr-2"></i>Download PowerPoint
            </button>
            <button
              id="start-new"
              class="btn-secondary px-6 py-3 rounded-lg transition-colors"
            >
              <i class="fas fa-plus mr-2"></i>Create Another Debriefing
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
